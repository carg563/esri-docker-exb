System.register(["jimu-core","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime","jimu-layouts/layout-builder","jimu-ui","jimu-ui/advanced/style-setting-components"],(function(t,e){var i={},n={},s={},o={},u={},r={},a={};return{setters:[function(t){i.APP_FRAME_NAME_IN_BUILDER=t.APP_FRAME_NAME_IN_BUILDER,i.Immutable=t.Immutable,i.React=t.React,i.ReactRedux=t.ReactRedux,i.jsx=t.jsx},function(t){n.getAppConfigAction=t.getAppConfigAction},function(t){s.SettingRow=t.SettingRow,s.SettingSection=t.SettingSection},function(t){o.utils=t.utils},function(t){u.DEFAULT_ROW_LAYOUT_SETTING=t.DEFAULT_ROW_LAYOUT_SETTING},function(t){r.Sides=t.Sides,r.UnitTypes=t.UnitTypes,r.styleUtils=t.styleUtils,r.utils=t.utils},function(t){a.FourSides=t.FourSides,a.InputUnit=t.InputUnit}],execute:function(){t((()=>{var t={1810:t=>{"use strict";t.exports=i},3297:t=>{"use strict";t.exports=n},69883:t=>{"use strict";t.exports=u},29169:t=>{"use strict";t.exports=o},21835:t=>{"use strict";t.exports=r},23080:t=>{"use strict";t.exports=s},89820:t=>{"use strict";t.exports=a}},e={};function l(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,l),s.exports}l.d=(t,e)=>{for(var i in e)l.o(e,i)&&!l.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),l.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.p="";var c={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(c),l.d(c,{default:()=>g});var t=l(1810),e=l(3297),i=l(23080),n=l(29169),s=l(69883),o=l(21835);const u={};var r=l(89820);const a=[o.Sides.T,o.Sides.R,o.Sides.B,o.Sides.L],d=[o.Sides.T,o.Sides.L,o.Sides.B,o.Sides.R];class p extends t.React.PureComponent{constructor(){super(...arguments),this.handleSpaceChange=t=>{const{layoutSetting:i}=this.props,n=(0,e.getAppConfigAction)();this.getLayoutIds().forEach((e=>{n.editLayoutSetting({layoutId:e},i.set("space",t.distance))})),n.exec()},this.handlePaddingChange=t=>{const{layoutSetting:i}=this.props,n=i.style.padding.unit;let s=o.styleUtils.expandStyleArray(t.number);if(n!==t.unit){const e=this.getSizeOfItem();null!=e&&(s=s.map(((i,n)=>{const s=n%2==0?e.height:e.width;return t.unit===o.UnitTypes.PIXEL?Math.round(i*s/100):Math.round(i/s*1e3)/10})))}const u=(0,e.getAppConfigAction)();this.getLayoutIds().forEach((e=>{u.editLayoutSetting({layoutId:e},i.setIn(["style","padding"],{number:s,unit:t.unit}))})),u.exec()},this.formatMessage=t=>this.props.intl.formatMessage({id:t,defaultMessage:u[t]})}getLayoutIds(){const t=[],{layouts:e}=this.props;if(null!=e){const i=e[Object.keys(e)[0]];Object.keys(i).forEach((e=>{t.push(i[e])}))}return t}getSizeOfItem(){const{id:t}=this.props,e=this.querySelector(`div[data-widgetid="${t}"]`);return null!=e?e.getBoundingClientRect():null}querySelector(e){const i=document.querySelector(`iframe[name="${t.APP_FRAME_NAME_IN_BUILDER}"]`);return null!=i?(i.contentDocument||i.contentWindow.document).querySelector(e):null}render(){var e;const{layoutSetting:u}=this.props,l=u.space>=0?u.space:s.DEFAULT_ROW_LAYOUT_SETTING.space,c=(null===(e=u.style.padding)||void 0===e?void 0:e.unit)===o.UnitTypes.PERCENTAGE?100:Number.POSITIVE_INFINITY;return(0,t.jsx)("div",{className:"row-layout-setting"},(0,t.jsx)(i.SettingSection,{title:this.formatMessage("layout")},(0,t.jsx)(i.SettingRow,{label:this.formatMessage("gap")},(0,t.jsx)(r.InputUnit,{value:o.utils.stringOfLinearUnit(l),min:0,onChange:this.handleSpaceChange,style:{width:110}})),(0,t.jsx)(i.SettingRow,{label:this.formatMessage("padding"),flow:"wrap"},(0,t.jsx)(r.FourSides,{showTip:!0,sides:n.utils.isRTL()?d:a,value:u.style.padding,max:c,onChange:this.handlePaddingChange}))))}}const g=t.ReactRedux.connect(((e,i)=>{var o,u;const{layouts:r}=i;let a=s.DEFAULT_ROW_LAYOUT_SETTING;if(null!=r){const t=r[Object.keys(r)[0]][n.utils.getCurrentSizeMode()];a=null!==(u=null===(o=e.appStateInBuilder.appConfig.layouts[t])||void 0===o?void 0:o.setting)&&void 0!==u?u:s.DEFAULT_ROW_LAYOUT_SETTING}return{layoutSetting:(0,t.Immutable)(a)}}))(p)})(),c})())}}}));