System.register(["jimu-core","jimu-ui","jimu-ui/basic/sql-expression-runtime","arcgis-charts","jimu-ui/advanced/chart"],(function(e,t){var l={},v={},o={},a={},r={};return{setters:[function(e){l.BaseVersionManager=e.BaseVersionManager,l.DataRecordsSelectionChangeMessage=e.DataRecordsSelectionChangeMessage,l.DataSourceComponent=e.DataSourceComponent,l.DataSourceManager=e.DataSourceManager,l.DataSourceStatus=e.DataSourceStatus,l.Immutable=e.Immutable,l.MessageManager=e.MessageManager,l.React=e.React,l.ReactRedux=e.ReactRedux,l.appConfigUtils=e.appConfigUtils,l.classNames=e.classNames,l.css=e.css,l.defaultMessages=e.defaultMessages,l.getAppStore=e.getAppStore,l.jsx=e.jsx,l.lodash=e.lodash,l.useIntl=e.useIntl},function(e){v.Alert=e.Alert,v.Badge=e.Badge,v.Button=e.Button,v.DataActionDropDown=e.DataActionDropDown,v.Icon=e.Icon,v.Popper=e.Popper,v.Tooltip=e.Tooltip,v.WidgetPlaceholder=e.WidgetPlaceholder,v.defaultMessages=e.defaultMessages,v.hooks=e.hooks},function(e){o.SqlExpressionRuntime=e.SqlExpressionRuntime},function(e){a.ActionModes=e.ActionModes},function(e){r.Chart=e.Chart,r.RESTFontDecoration=e.RESTFontDecoration,r.RESTFontStyle=e.RESTFontStyle,r.RESTFontWeight=e.RESTFontWeight,r.RESTHorizontalAlignment=e.RESTHorizontalAlignment,r.RESTSimpleFillSymbolStyle=e.RESTSimpleFillSymbolStyle,r.RESTSimpleLineSymbolStyle=e.RESTSimpleLineSymbolStyle,r.RESTSimpleMarkerSymbolStyle=e.RESTSimpleMarkerSymbolStyle,r.RESTSymbolType=e.RESTSymbolType,r.WebChartSortOrderKinds=e.WebChartSortOrderKinds,r.WebChartTypes=e.WebChartTypes,r.combineFilters=e.combineFilters,r.getSeriesType=e.getSeriesType,r.getSplitByField=e.getSplitByField,r.getSplitByValue=e.getSplitByValue,r.isAbsoluteTruthWhereClause=e.isAbsoluteTruthWhereClause,r.normalizeString=e.normalizeString}],execute:function(){e((()=>{var e={27691:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M147.167 236l-51.084-28.5L45 249.5v44.327l50.736-46.4 50.993 28.948 50.248-51.169 51.871 37.843 50.53-64.932L351 233.016V179l-50.583-28.5-51.083 62-52.085-59-50.082 82.5zM45 342.974v-42.366l51.43-47.035 51.175 29.052 49.915-50.83 52.3 38.156 50.635-65.068L351 239.055v42.443l-51.842-19.97-50.382 59.265-51.552-29.694-50.52 30.263-51.11-10.005L45 342.974zm0 5.899v5.627h306v-67.643l-50.325-19.385-50.783 59.735-52.618-30.306-49.644 29.737-51.057-9.995L45 348.873z" fill="#A8A8A8"></path></svg>'},63155:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M326 58v12H45V58zM258.473 73v12H45V73zM204.015 88v12H45V88zM159 119v12H45v-12zM131.605 134v12H45v-12zM109.512 149v12H45v-12zM195 180v12H45v-12zM158.953 195v12H45v-12zM129.884 210v12H45v-12zM245 241v12H45v-12zM196.938 256v12H45v-12zM158.178 271v12H45v-12zM174 302v12H45v-12zM143 317v12H45v-12zM118 332v12H45v-12zM24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-75.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376zm-24.5.999v4h-1v-4h1z" fill="#000"></path></svg>'},46986:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M24 107v-8h16v8zM24 56v-8h16v8zM24 158v-8h16v8zM24 209v-8h16v8zM24 261v-8h16v8zM24 311v-8h16v8zM24 362v-8h16v8zM128 376v-8h24v8zM72 376v-8h24v8zM189 376v-8h24v8zM250 376v-8h24v8zM311 376v-8h24v8zM58 77h12v281H58zM73 144.527h12V358H73zM88 198.984h12V358H88zM119 244h12v114h-12zM134 271.395h12V358h-12zM149 293.488h12V358h-12zM180 208h12v150h-12zM195 244.046h12v113.953h-12zM210 273.116h12V358h-12zM241 158h12v200h-12zM256 206.062h12V358h-12zM271 244.822h12V358h-12zM302 229h12v129h-12zM317 260h12v98h-12zM332 285h12v73h-12z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M49 24h-1v28h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h22v-.998H49V24z" fill="#000"></path></svg>'},52760:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M299.88 232.358l50.866 28.707-.492.87-50.134-28.293-51.107 62.129-51.938-58.93-49.898 82.331-51.046-28.526-50.736 65.161-.79-.614 51.264-65.839 50.954 28.474 50.102-82.669 52.062 59.07 50.893-61.871z" fill="#A8A8A8"></path><circle cx="96" cy="290" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="355" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="318" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="236" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="295" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="234" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="262" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M196.827 194.391l52.206 21.083 50.998-13.5 50.653 20.061-.368.93-50.347-19.94-51.002 13.501-51.794-20.917-50.083 68.113-50.937-41.948-50.712 94.961-.882-.471 51.288-96.038 51.063 42.052 49.917-67.887z" fill="#A8A8A8"></path><circle cx="96" cy="221" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="316" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="262" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="195" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="216" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="202" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="223" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M350.81 117.892l-50.581 40.065-51.304 13.58-51.791-30.875-50.044 68.06-50.983-41.986-50.693 75.044-.828-.56 51.308-75.955 51.016 42.013 49.956-67.94 52.209 31.125 50.696-13.42 50.419-39.935.62.784z" fill="#A8A8A8"></path><circle cx="96" cy="166" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="241" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="207" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="140" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="171" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="157" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="118" r="3" fill="#A8A8A8"></circle></svg>'},62859:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M118.545 220.032l-2.213-1.235a34 34 0 00-38.159 3.428L45 249.5v30.214c3.984-4.618 8.656-9.198 13.805-12.99 10.634-7.83 23.84-12.646 37.238-6.496 29.564 13.57 53.981 5.763 68.251-7.556 7.503-7.003 18.521-16.771 31.068-22.333 12.659-5.611 27.171-7.046 41.113 3.142 12.934 9.452 27.929 18.766 42.113 23.392 14.211 4.636 26.946 4.382 36.213-4.207 10.919-10.12 24.971-18.293 36.199-23.742V179l-25.766-14.517c-14.358-8.09-32.45-4.718-42.93 8.001l-9.791 11.883c-12.163 14.762-34.644 15.145-47.303.806-13.874-15.716-39.007-13.477-49.885 4.443l-11.151 18.367c-9.492 15.637-29.654 20.961-45.629 12.049zM45 330.81v-43.161c4.46-5.852 10.235-12.086 16.77-16.899 9.974-7.344 21.185-11.028 32.187-5.978 31.436 14.43 58.019 6.236 73.749-8.444 7.497-6.997 17.979-16.229 29.682-21.418 11.591-5.138 24.079-6.203 36.137 2.608 13.066 9.549 28.571 19.235 43.512 24.109 14.914 4.864 29.929 5.118 41.162-5.294 9.791-9.074 22.321-16.579 32.801-21.834v58.189c-20.957 1.026-60.451 6.532-94.59 23.062-11.627 5.63-20.788 7.612-28.256 7.407-7.43-.204-13.377-2.577-18.596-5.998-5.075-3.326-9.417-7.604-13.815-11.936l-.544-.536c-4.499-4.429-9.142-8.934-14.494-11.877-2.913-1.603-5.764-2.165-8.579-1.826-2.765.333-5.3 1.511-7.66 3.058-2.354 1.542-4.663 3.539-6.965 5.644-.841.769-1.675 1.547-2.515 2.33l-.002.002c-1.514 1.412-3.05 2.845-4.697 4.292-5.061 4.447-10.666 8.565-17.579 10.7-6.854 2.116-15.212 2.347-25.886-1.371-18.507-6.446-34.021-3.557-45.85 2.755C54.5 321.849 49.149 326.317 45 330.81zm0 7.804V354.5h306v-56.807c-20.516 1.032-59.158 6.456-92.41 22.557-12.123 5.87-22.087 8.138-30.573 7.905-8.522-.233-15.357-2.984-21.2-6.814-5.502-3.606-10.165-8.202-14.477-12.452l-.181-.178-.468-.461c-4.578-4.508-8.748-8.503-13.396-11.059-2.087-1.148-3.893-1.445-5.571-1.243-1.73.208-3.527.971-5.518 2.276-1.997 1.309-4.059 3.074-6.33 5.151-.768.702-1.568 1.448-2.394 2.218l-.002.002c-1.554 1.449-3.198 2.982-4.892 4.47-5.251 4.615-11.49 9.278-19.405 11.722-7.974 2.462-17.429 2.606-29.005-1.426-17.093-5.954-31.162-3.26-41.85 2.445-8.095 4.319-14.281 10.386-18.328 15.808z" fill="#A8A8A8"></path></svg>'},27118:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M326.792 248.694c-15.426-8.706-34.876-5.079-46.128 8.6l-8.137 9.892c-12.332 14.991-35.153 15.38-47.987.817-13.619-15.452-38.319-13.253-48.994 4.361l-12.091 19.95c-9.081 14.984-28.398 20.085-43.693 11.538-13.593-7.597-30.696-4.133-40.263 8.154l-34.104 43.801-.79-.614 34.105-43.802c9.87-12.676 27.516-16.249 41.54-8.412 14.825 8.284 33.548 3.34 42.35-11.183l12.09-19.95c11.026-18.191 36.535-20.462 50.6-4.504 12.427 14.1 34.524 13.724 46.464-.791l8.137-9.892c11.561-14.055 31.544-17.78 47.392-8.836l23.463 13.242-.492.87-23.462-13.241z" fill="#A8A8A8"></path><circle cx="96" cy="300" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="355" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="306" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="258" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="278" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="245" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="262" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M229.969 208.854c-19.296-7.793-41.421-1.516-53.749 15.251l-10.663 14.501c-10.031 13.642-29.46 16.062-42.532 5.298-13.896-11.444-34.79-7.303-43.27 8.577l-34.314 64.254-.882-.471 34.314-64.254c8.778-16.437 30.404-20.724 44.788-8.878 12.628 10.4 31.4 8.061 41.091-5.119l10.662-14.501c12.599-17.134 35.209-23.55 54.93-15.586l3.243 1.31a50.046 50.046 0 0031.549 1.975l12.467-3.3a70.5 70.5 0 0143.999 2.606l29.082 11.518-.368.93-29.082-11.518a69.507 69.507 0 00-43.376-2.569l-12.466 3.3a51.046 51.046 0 01-32.179-2.015l-3.244-1.309z" fill="#A8A8A8"></path><circle cx="96" cy="239" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="316" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="250" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="208" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="213" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="206" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="223" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M350.868 117.838l-23.757 25.893a79.497 79.497 0 01-51.631 25.448l-11.951 1.048a45.49 45.49 0 01-27.275-6.244l-6.002-3.578c-18.785-11.198-43.003-6.299-55.959 11.32l-7.713 10.49c-10.587 14.398-31.092 16.952-44.887 5.591-13.721-11.299-34.19-8.333-44.14 6.396L45.414 241.78l-.828-.56 32.139-47.578c10.28-15.218 31.427-18.282 45.603-6.608 13.353 10.996 33.2 8.524 43.446-5.411l7.714-10.49c13.26-18.035 38.049-23.049 57.276-11.586l6.002 3.578a44.507 44.507 0 0026.676 6.106l11.95-1.048a78.502 78.502 0 0050.982-25.128l23.758-25.893.736.676z" fill="#A8A8A8"></path><circle cx="96" cy="181" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="241" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="194" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="155" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="167" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="162" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="118" r="3" fill="#A8A8A8"></circle></svg>'},49856:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M132.5 67v20h-87V67zM195.5 67v20h-61V67zM243.5 67v20h-46V67zM188.5 130v20h-143v-20zM259.5 130v20h-69v-20zM325.5 130v20h-64v-20zM158.5 191v20h-113v-20zM234.5 191v20h-74v-20zM282.5 191v20h-46v-20zM114.5 253v20h-69v-20zM158.5 253v20h-42v-20zM197.5 253v20h-37v-20zM100.5 315v20h-55v-20zM163.5 315v20h-61v-20zM228.5 315v20h-63v-20zM24 79v-8h16v8zM24 140v-8h16v8zM24 200v-8h16v8zM24 262v-8h16v8zM24 323v-8h16v8zM135 372v-8h24v8zM85 372v-8h24v8zM33 372v-8h24v8zM185 372v-8h24v8zM237 372v-8h24v8zM289 372v-8h24v8zM341 372v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 350.501v.999h-75.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376zm-24.5.999v4h-1v-4h1z" fill="#000"></path></svg>'},11888:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M24 107v-8h16v8zM24 56v-8h16v8zM24 158v-8h16v8zM24 209v-8h16v8zM24 261v-8h16v8zM24 311v-8h16v8zM24 362v-8h16v8zM128 376v-8h24v8zM68 376v-8h24v8zM189 376v-8h24v8zM250 376v-8h24v8zM311 376v-8h24v8zM70 271h20v87H70zM70 208h20v61H70zM70 160h20v46H70zM130 215h20v143h-20zM130 144h20v69h-20zM130 78h20v64h-20zM190 245h20v113h-20zM190 169h20v74h-20zM190 121h20v46h-20zM252 289h20v69h-20zM252 245h20v42h-20zM252 206h20v37h-20zM313 303h20v55h-20zM313 240h20v61h-20zM313 175h20v63h-20z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M49 24h-1v28h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h22v-.998H49V24z" fill="#000"></path></svg>'},79703:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M147.167 71.5l-51.084 4L45 67.5v92.351l50.736-11.541 50.993 8.948 50.248-13.169 51.871 10.843L299.378 144 351 149.76V62l-50.583 5.5-51.083-4-52.085 11-50.082-3zM45 249.41v-84.733l51.43-10.221 51.175 9.052 49.915-12.83 52.3 11.156 50.635-11.068L351 154.608v87.24L299.158 233l-50.382 11.264-51.552-8.693-50.52 8.262-51.11-7.005L45 249.41zm0 5.028V354.5h306V246.954l-50.325-8.011-50.783 11.736-52.618-9.307-49.644 7.738-51.057-6.995L45 254.438z" fill="#A8A8A8"></path></svg>'},90007:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M132 64v20H45V64zM195 64v20h-61V64zM350 64v20H197V64zM188 124v20H45v-20zM286 124v20h-96v-20zM350 124v20h-62v-20zM158 184v20H45v-20zM234 184v20h-74v-20zM350 184v20H236v-20zM114 246v20H45v-20zM272 246v20H116v-20zM350 246v20h-76v-20zM100 307v20H45v-20zM184 307v20h-82v-20zM350 307v20H186v-20zM24 79v-8h16v8zM24 140v-8h16v8zM24 200v-8h16v8zM24 262v-8h16v8zM24 323v-8h16v8zM135 372v-8h24v8zM85 372v-8h24v8zM33 372v-8h24v8zM185 372v-8h24v8zM237 372v-8h24v8zM289 372v-8h24v8zM341 372v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 350.501v.999h-75.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376zm-24.5.999v4h-1v-4h1z" fill="#000"></path></svg>'},83466:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M24 107v-8h16v8zM24 56v-8h16v8zM24 158v-8h16v8zM24 209v-8h16v8zM24 261v-8h16v8zM24 311v-8h16v8zM24 362v-8h16v8zM128 376v-8h24v8zM68 376v-8h24v8zM189 376v-8h24v8zM250 376v-8h24v8zM311 376v-8h24v8zM70 271h20v87H70zM70 208h20v61H70zM70 72h20v134H70zM130 215h20v143h-20zM130 117h20v96h-20zM130 72h20v43h-20zM190 245h20v113h-20zM190 169h20v74h-20zM190 72h20v95h-20zM252 289h20v69h-20zM252 131h20v156h-20zM252 72h20v57h-20zM313 303h20v55h-20zM313 219h20v82h-20zM313 72h20v145h-20z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M49 24h-1v28h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h22v-.998H49V24z" fill="#000"></path></svg>'},38839:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M302.959 60.5h45.082a3 3 0 11.001 1h-45.084a3 3 0 01-5.906.058l-45.084.884a3.001 3.001 0 01-5.893.228l-46.093 2.659a3 3 0 01-5.95.112l-44.084-.882a3 3 0 01-5.896-.001l-45.084.884a3 3 0 01-5.916.116l-45.084.884a3 3 0 11-.02-1l45.084-.884a3 3 0 015.916-.116l45.084-.884a3.001 3.001 0 015.936.001l44.084.882a3 3 0 015.873-.11l46.093-2.66a3 3 0 015.93-.229l45.084-.884a3.001 3.001 0 015.927-.058zm.037 96.349l45.124 5.309A3.002 3.002 0 01354 163a3 3 0 01-5.996.151l-45.124-5.309a3.002 3.002 0 01-5.743.056l-45.138 6.195a3 3 0 01-5.991.122l-46.111-4.434a3 3 0 01-5.806-.047l-44.102 3.529a3.001 3.001 0 01-5.972.063l-45.093-2.653a3 3 0 01-5.82.113l-45.111 4.423a3 3 0 11-.097-.995l45.111-4.423a3 3 0 015.976-.116l45.093 2.652a3 3 0 015.834-.061l44.101-3.528a3.001 3.001 0 015.981.048l46.111 4.433a3 3 0 015.76-.117l45.138-6.195a3 3 0 015.995-.058zM147 264a3.001 3.001 0 002.878-2.151l44.125 5.295a3 3 0 005.989.071l46.111-4.434a3 3 0 005.821-.108l45.093 2.652a3.002 3.002 0 005.971-.058l45.101-3.537A3.002 3.002 0 00354 261a3 3 0 00-5.988-.267l-45.101 3.537a3.002 3.002 0 00-5.835.057l-45.093-2.652a3.002 3.002 0 00-5.975.11l-46.111 4.434a3 3 0 00-5.775-.068l-44.125-5.295a3 3 0 00-5.996.051l-45.138 6.195a3.002 3.002 0 00-5.759.112l-45.111-4.423a3 3 0 10-.097.995l45.111 4.423a3 3 0 005.992-.116l45.138-6.195A3 3 0 00147 264z" fill="#A8A8A8"></path></svg>'},95749:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 1.53V0H1v1.53h.07l5.374 5.288v6.121l2.26 2.224a.5.5 0 00.852-.356V6.825l5.382-5.295H15zM2 1h12v.049L8.556 6.406l-.001 7.207-1.111-1.093V6.399L2 1.042V1z" fill="#000"></path></svg>'},43036:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.366 7.841l-.732-.682-3.125 3.349-1.635-1.84-.748.664 2.365 2.66 3.875-4.15z" fill="#000"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.5 3V1.167C4.5.469 5.204 0 6 0h4c.796 0 1.5.47 1.5 1.167V3h4a.5.5 0 010 1H14l-.929 11.077a1 1 0 01-.997.923H3.926a1 1 0 01-.997-.923L2 4H.5a.5.5 0 010-1h4zM3.003 4h9.994l-.923 11H3.926L3.003 4zM10.5 1v2h-5V1c0-.04 5-.04 5 0z" fill="#000"></path></svg>'},84441:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6.5a5.5 5.5 0 11-11 0 5.5 5.5 0 0111 0zm-1.27 4.936a6.5 6.5 0 11.707-.707l4.136 4.137a.5.5 0 11-.707.707l-4.137-4.137zM7 6h3v1H7v3H6V7H3V6h3V3h1v3z" fill="#000"></path></svg>'},48682:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 11V0H5v3.5h1V1h9v9H8.5v1H16zM.25 3l8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3zm.996 1.726l-.01 5.644 1.527-1.684 2.91 5.771 1.154-.667-2.91-5.77 2.222-.48-4.893-2.814z" fill="#000"></path></svg>'},39340:e=>{"use strict";e.exports=a},1810:e=>{"use strict";e.exports=l},21835:e=>{"use strict";e.exports=v},43933:e=>{"use strict";e.exports=r},96553:e=>{"use strict";e.exports=o}},t={};function i(l){var v=t[l];if(void 0!==v)return v.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var l in t)i.o(t,l)&&!i.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var n={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(n),i.d(n,{default:()=>fe});var e=i(1810);class t extends e.BaseVersionManager{constructor(){super(...arguments),this.versions=[{version:"1.6.0",description:"Version manager for release 1.6.0",upgrader:e=>{var t;if(!e)return e;let l=null===(t=e.webChart)||void 0===t?void 0:t.series;return(null==l?void 0:l.length)?(l=l.map((e=>(e=e.set("stackedType",e.multipleBarType)).without("multipleBarType"))),e.setIn(["webChart","series"],l)):e}}]}}const l=new t;var v,o=i(21835),a=i(96553);!function(e){e.NotReady="NOT_READY",e.Ready="READY",e.Loading="LOADING",e.Loaded="LOADED",e.LoadError="LOAD_ERROR",e.ExceedLimit="EXCEED_LIMIT"}(v||(v={}));const r={chart:null,filter:null,dataSource:null,outputDataSource:null,sourceStatus:v.NotReady},c=(e,t)=>{switch(t.type){case"SET_CHART":return Object.assign(Object.assign({},e),{chart:t.value});case"SET_FILTER":return Object.assign(Object.assign({},e),{filter:t.value});case"SET_DATA_SOURCE":return Object.assign(Object.assign({},e),{dataSource:t.value});case"SET_OUTPUT_DATA_SOURCE":return Object.assign(Object.assign({},e),{outputDataSource:t.value});case"SET_SOURCE_STATUS":return Object.assign(Object.assign({},e),{sourceStatus:t.value});default:return e}},s=e.React.createContext(void 0),u=e.React.createContext(void 0),h=t=>{const{defaultState:l,children:v}=t,[o,a]=e.React.useReducer(c,l||r);return e.React.createElement(s.Provider,{value:o},e.React.createElement(u.Provider,{value:a},v))},d=()=>e.React.useContext(s),p=()=>e.React.useContext(u);var M=i(95749),f=i.n(M);const S=t=>{const{className:l}=t,v=function(e,t){var l={};for(var v in e)Object.prototype.hasOwnProperty.call(e,v)&&t.indexOf(v)<0&&(l[v]=e[v]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(v=Object.getOwnPropertySymbols(e);o<v.length;o++)t.indexOf(v[o])<0&&Object.prototype.propertyIsEnumerable.call(e,v[o])&&(l[v[o]]=e[v[o]])}return l}(t,["className"]),a=(0,e.classNames)("jimu-icon-component",l);return e.React.createElement(o.Icon,Object.assign({className:a,icon:f()},v))},g=t=>{const{dataSource:l}=d(),v=p(),r=o.hooks.useTranslate(o.defaultMessages),i=e.React.useRef(null),{className:n,filter:c,widgetId:s}=t,[u,h]=e.React.useState(c),[M,f]=e.React.useState(!1),[g,m]=e.React.useState(!1);return o.hooks.useUpdateEffect((()=>{null==h||h(c),f(!1),m(!1),v({type:"SET_FILTER",value:null})}),[c]),e.React.createElement(e.React.Fragment,null,e.React.createElement(o.Badge,{className:(0,e.classNames)("filter-picker",n),dot:!0,hideBadge:!M},e.React.createElement(o.Tooltip,{title:r("filter")},e.React.createElement(o.Button,{size:"sm",icon:!0,ref:i,type:"tertiary",onClick:()=>m((e=>!e))},e.React.createElement(S,null)))),g&&e.React.createElement(o.Popper,{open:g,reference:i.current,className:"p-2",toggle:()=>m(!1)},e.React.createElement("div",null,e.React.createElement(a.SqlExpressionRuntime,{widgetId:s,dataSource:l,expression:u,onChange:e=>{f(!1),null==h||h(e)}}),e.React.createElement("div",{className:(0,e.classNames)("d-flex w-100 filter-button-con",{"mt-3":g})},e.React.createElement(o.Button,{disabled:M,size:"sm",onClick:()=>{f(!0),v({type:"SET_FILTER",value:u})},type:"primary",title:r("apply")},r("apply")),e.React.createElement(o.Button,{className:"ml-3",disabled:!M,size:"sm",onClick:()=>{f(!1),v({type:"SET_FILTER",value:null})},title:r("clear")},r("clear"))))))},m=t=>{const l=null==t?void 0:t.id,v=e.ReactRedux.useSelector((e=>{var t,v;return null===(v=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[l])||void 0===v?void 0:v.sourceVersion}));return e.React.useMemo((()=>{var e;return null!==(e=null==t?void 0:t.getSourceRecords())&&void 0!==e?e:[]}),[t,v])};var y=i(84441),z=i.n(y);const A=t=>{const{className:l}=t,v=function(e,t){var l={};for(var v in e)Object.prototype.hasOwnProperty.call(e,v)&&t.indexOf(v)<0&&(l[v]=e[v]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(v=Object.getOwnPropertySymbols(e);o<v.length;o++)t.indexOf(v[o])<0&&Object.prototype.propertyIsEnumerable.call(e,v[o])&&(l[v[o]]=e[v[o]])}return l}(t,["className"]),a=(0,e.classNames)("jimu-icon-component",l);return e.React.createElement(o.Icon,Object.assign({className:a,icon:z()},v))};var R=i(48682),x=i.n(R);const w=t=>{const{className:l}=t,v=function(e,t){var l={};for(var v in e)Object.prototype.hasOwnProperty.call(e,v)&&t.indexOf(v)<0&&(l[v]=e[v]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(v=Object.getOwnPropertySymbols(e);o<v.length;o++)t.indexOf(v[o])<0&&Object.prototype.propertyIsEnumerable.call(e,v[o])&&(l[v[o]]=e[v[o]])}return l}(t,["className"]),a=(0,e.classNames)("jimu-icon-component",l);return e.React.createElement(o.Icon,Object.assign({className:a,icon:x()},v))},b=t=>{const l=o.hooks.useTranslate(),[v,a]=e.React.useState("selection"),{className:r,onChange:i}=t;return e.React.createElement("div",{className:(0,e.classNames)("range-cursor-mode",r)},e.React.createElement(o.Tooltip,{title:l("SelectLabel")},e.React.createElement(o.Button,{size:"sm",className:"mr-1",icon:!0,type:"tertiary",onClick:()=>{i("selection"),a("selection")},active:"selection"===v},e.React.createElement(w,null))),e.React.createElement(o.Tooltip,{title:l("ZoomLabel")},e.React.createElement(o.Button,{size:"sm",icon:!0,type:"tertiary",onClick:()=>{i("zoom"),a("zoom")},active:"zoom"===v},e.React.createElement(A,null))))};var E=i(43036),T=i.n(E);const O=t=>{const{className:l}=t,v=function(e,t){var l={};for(var v in e)Object.prototype.hasOwnProperty.call(e,v)&&t.indexOf(v)<0&&(l[v]=e[v]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(v=Object.getOwnPropertySymbols(e);o<v.length;o++)t.indexOf(v[o])<0&&Object.prototype.propertyIsEnumerable.call(e,v[o])&&(l[v[o]]=e[v[o]])}return l}(t,["className"]),a=(0,e.classNames)("jimu-icon-component",l);return e.React.createElement(o.Icon,Object.assign({className:a,icon:T()},v))},D=t=>{const l=o.hooks.useTranslate(),{className:v,onModeChange:a,onClearSelection:r}=t;return e.React.createElement("div",{className:(0,e.classNames)("selection-zoom d-flex",v)},e.React.createElement(b,{className:"mr-1",onChange:a}),e.React.createElement(o.Tooltip,{title:l("clearSelection")},e.React.createElement(o.Button,{size:"sm",icon:!0,type:"tertiary",onClick:r},e.React.createElement(O,null))))};var C=i(39340);const B=e.css`
  .tool-dividing-line {
    height: 16px;
    width: 1px;
    background-color: var(--light-400);
  }
`,F=t=>{var l,v,a;const{className:r,widgetId:i,tools:n,enableDataAction:c}=t,s=o.hooks.useTranslate()("outputStatistics",{name:null!==(a=null===(v=null===(l=(0,e.getAppStore)().getState().appConfig.widgets)||void 0===l?void 0:l[i])||void 0===v?void 0:v.label)&&void 0!==a?a:"Chart"}),{outputDataSource:u,chart:h}=d(),M=p(),f=m(u),S=null==n?void 0:n.filter,y=null==n?void 0:n.cursorEnable;return e.React.useEffect((()=>{y?null==h||h.setActionMode({actionMode:C.ActionModes.MultiSelection,needToPressKeyToMultiSelect:!0}):null==h||h.setActionMode({actionMode:C.ActionModes.None})}),[y,h]),(0,e.jsx)("div",{css:B,className:(0,e.classNames)("chart-tool-bar w-100 d-flex align-items-center justify-content-end px-2 pt-2",r)},null!=S&&(0,e.jsx)(g,{className:"mr-1",widgetId:i,filter:S,onChange:e=>{M({type:"SET_FILTER",value:e})}}),y&&(0,e.jsx)(D,{className:"mr-1",onModeChange:e=>{"selection"===e?null==h||h.setActionMode({actionMode:C.ActionModes.MultiSelection,needToPressKeyToMultiSelect:!0}):"zoom"===e&&(null==h||h.setActionMode({actionMode:C.ActionModes.Zoom,needToPressKeyToMultiSelect:!0}))},onClearSelection:()=>{null==h||h.clearSelection()}}),c&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("span",{className:"tool-dividing-line mx-1"}),(0,e.jsx)(o.DataActionDropDown,{type:"tertiary",dataName:s,widgetId:i,dataSource:u,records:f})))};var I=i(43933);I.RESTFontStyle.Normal,I.RESTFontWeight.Normal,I.RESTFontDecoration.None,I.RESTSymbolType.TS,I.RESTHorizontalAlignment.Center,I.RESTSymbolType.SLS,I.RESTSimpleLineSymbolStyle.Solid;I.RESTSymbolType.SFS,I.RESTSimpleFillSymbolStyle.Solid,I.RESTSymbolType.SMS,I.RESTSimpleMarkerSymbolStyle.Circle;const j=[I.WebChartTypes.BarSeries,I.WebChartTypes.LineSeries];var N,L;(L=N||(N={})).ByGroup="BYGROUP",L.ByField="BYFIELD",L.ByFeature="BYFEATURE";const H={},_=e=>null!=(null==e?void 0:e.groupByFieldsForStatistics)?N.ByGroup:null!=(null==e?void 0:e.outStatistics)?N.ByField:null!=(null==e?void 0:e.outFields)?N.ByFeature:void 0,V=e=>{let t,l=!1;if(null!=(null==e?void 0:e.groupByFieldsForStatistics)){t=N.ByGroup;const v=null==e?void 0:e.where;(0,I.isAbsoluteTruthWhereClause)(v)||(l=!0)}else null!=(null==e?void 0:e.outStatistics)?t=N.ByField:null!=(null==e?void 0:e.outFields)&&(t=N.ByFeature);return[t,l]},k=e=>{var t;return _(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.query)},U=t=>{const l=null==t?void 0:t.reduce(((t,l)=>{var v;return t.concat(null!==(v=(t=>{var l,v;const o=_(t);let a=(0,e.Immutable)([]);switch(o){case N.ByFeature:a=null===(l=null==t?void 0:t.outFields)||void 0===l?void 0:l.slice(1);break;case N.ByGroup:case N.ByField:a=null===(v=null==t?void 0:t.outStatistics)||void 0===v?void 0:v.map((e=>e.onStatisticField))}return a=a.filter((e=>null!=e&&""!==e)),a})(l.query))&&void 0!==v?v:[])}),[]);return(0,e.Immutable)((e=>{if(null==e)return e;const t=[];return e.forEach((e=>{t.includes(e)||t.push(e)})),t})(l))},P=e=>{var t;return null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.x},q=e=>{var t,l;return(null===(t=null==e?void 0:e.query)||void 0===t?void 0:t.where)?(0,I.getSplitByField)(null===(l=null==e?void 0:e.query)||void 0===l?void 0:l.where):""},W=e=>null==e?void 0:e[0].stackedType,$=e=>{if(!e||!e.includes(" "))return[];const t=e.lastIndexOf(" ");return t!==e.indexOf(" ")?[e.substring(0,t),e.substring(t+1)]:e.split(" ")},G=(e,t,l)=>{var v,o;const[a,r]=V(null===(v=null==t?void 0:t[0])||void 0===v?void 0:v.query),i=new Map;let n=e;if(a===N.ByGroup&&r){const l=Y(e,t);n=K(l,null===(o=null==t?void 0:t[0])||void 0===o?void 0:o.x)}else a===N.ByField&&(n=Q(e,t,l,i));return[n,i]},K=(e,t)=>{if(!t)return e;const l=[];return e.forEach((e=>{const v=l.find((l=>l[t]===e[t])),o=Object.assign({},e);v?Object.entries(o).forEach((([e,t])=>{null==v[e]&&(v[e]=t)})):l.push(o)})),l},Y=(e,t)=>{var l;const v=q(null==t?void 0:t[0]),o=((e,t,l)=>{let v="";return e&&"object"==typeof e&&t&&l?(Object.keys(e).some((e=>e!==t&&e!==l&&"objectid"!==e&&(v=e,!0))),v):v})(null==e?void 0:e[0],null===(l=null==t?void 0:t[0])||void 0===l?void 0:l.x,v);return o?e.map((e=>{var l,a;const r=Object.assign({},e),i=(0,I.normalizeString)({value:null!==(a=null===(l=r[v])||void 0===l?void 0:l.toString())&&void 0!==a?a:""}),n=((e,t)=>{var l;return null===(l=e.find((e=>(e=>{return(null==(t=null==e?void 0:e.query)?void 0:t.where)?(0,I.getSplitByValue)({where:t.where}):"";var t})(e)===`${t}`)))||void 0===l?void 0:l.y})(t,i);return n?(void 0!==r[o]&&n!==o&&(r[n]=r[o],delete r[o]),r):null})):e},Q=(t,l,v,o)=>{var a,r;const i=k(l),n=U(l),c=P(l),s=null===(a=null==l?void 0:l[0])||void 0===a?void 0:a.y;return i===N.ByField&&(t=null===(r=null==n?void 0:n.asMutable())||void 0===r?void 0:r.map((l=>{var a,r,i,n;const u=null!==(r=null===(a=((t,l)=>{var v;if(null!=H[t])return H[t];const o=e.DataSourceManager.getInstance().getDataSource(l),a=null==o?void 0:o.getSchema(),r=null===(v=null==a?void 0:a.fields)||void 0===v?void 0:v[t];return H[t]=r,r})(l,v))||void 0===a?void 0:a.alias)&&void 0!==r?r:l;return u!==l&&o.set(u,l),{[c]:u,[s]:null!==(n=null===(i=null==t?void 0:t[0])||void 0===i?void 0:i[l])&&void 0!==n?n:0}}))),t},Z=(e,t)=>null==e||null==t?null:t.map((t=>((e,t)=>null==e||null==t?null:e.find((e=>{const l=e.getData();return o=l,null!=(v=t)&&null!=v&&Object.entries(v).every((([e,t])=>o[e]===t));var v,o})))(e,t))),J={type:"inline",data:[],processed:!0},X={type:"inline",data:{data:[]},processed:!0},ee=(t,l,v,o)=>{const a=null==t?void 0:t.id,r=e.ReactRedux.useSelector((e=>{var t,l;return null===(l=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[a])||void 0===l?void 0:l.selectedIds})),i=e.React.useRef(),n=e.React.useRef();return e.React.useMemo((()=>{if(!t)return;if(a=n.current,c=r,!(null==a?void 0:a.length)&&!(null==c?void 0:c.length)||e.lodash.isDeepEqual(a,c))return i.current;var a,c;const s=((e,t,l,v)=>{if(!e||!(null==t?void 0:t.length))return;let o;if(v){o=((e,t,l)=>{var v;return(null==e?void 0:e.length)&&(null==t?void 0:t.length)&&l?((e,t)=>{if(!t)return e;let l=e.map((e=>{const l={};return Object.entries(e).forEach((([v,o])=>{if(v.includes(t,1)){const a=e[t],{numericField:r,splitByField:i,statisticType:n}=(e=>{if(!e||!e.includes("__"))return;const t=e.split("__");if(2===t.length){const[e,l]=t;return{numericField:e,statisticType:l}}if(4===t.length){const[e,l,v,o]=t;return{numericField:e,splitByField:l,splitByValue:v,statisticType:o}}})(v),c=((e,t,l,v)=>l&&v?`${e}__${l}__${v}__${t}`:`${e}__${t}`)(r,n,i,a);l[c]=o}else l[v]=o})),l}));return l=l.map((e=>((null==e?void 0:e.objectid)&&delete e.objectid,(null==e?void 0:e[t])&&delete e[t],e))),l})(null!==(v=null==e?void 0:e.map((e=>e.getData())))&&void 0!==v?v:[],l):[]})(e.getSelectedRecords(),t,v)}else o=((e,t,l)=>(null==e?void 0:e.length)&&(null==t?void 0:t.length)?((e,t)=>e.map((e=>{const l={};return t.forEach((t=>{void 0!==e[t]&&(l[t]=e[t])})),l})))(t.filter((t=>{var l,v;const o=(null!==(v=null===(l=t)||void 0===l?void 0:l.objectid)&&void 0!==v?v:"")+"";return e.includes(o)})),l):[])(e.getSelectedRecordIds(),t,l);return o})(t,l,v,o);return n.current=r,i.current=s,s}),[t,l,v,o,r])},te=e.React.memo((function(t){var l;const{webChart:v,widgetId:a}=t,{outputDataSource:r}=d(),i=p(),n=null==v?void 0:v.series,c=null==r?void 0:r.id,s=k(n),u=P(n),h=q(null==n?void 0:n[0]),M=m(r),f=e.React.useMemo((()=>{var e;if(!r)return[];const t=r.getSchema(),l=Object.keys(null!==(e=t.fields)&&void 0!==e?e:{}).filter((e=>e!==t.idField));return l.includes(u)||l.unshift(u),l}),[r,u,null==n?void 0:n.length]),S=((t,l)=>{const[v,a]=e.React.useState(0),r=null==t?void 0:t.title,i=null==t?void 0:t.axes,n=null==t?void 0:t.series,c=null==t?void 0:t.legend,s=null==t?void 0:t.footer;o.hooks.useUpdateEffect((()=>{a((e=>e+1))}),[r,s,c,i,l]);const u=e.React.useRef(null);return o.hooks.useUpdateEffect((()=>{let t=!1;const l=null==n?void 0:n.map((e=>e.without("query"))),v=null==l?void 0:l.asMutable({deep:!0});null!=v&&(t=!e.lodash.isDeepEqual(v,u.current)),u.current=v,t&&a((e=>e+1))}),[n]),v})(v,null!==(l=null==n?void 0:n.length)&&void 0!==l?l:0),[g,y,z]=((t,l,v)=>{const o=(0,e.useIntl)(),a=k(l),r=P(l),i=(e=>{var t,l;return null===(l=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.query)||void 0===l?void 0:l.orderByFields})(l),n=q(null==l?void 0:l[0]),[c,s]=e.React.useMemo((()=>((e,t,l,v)=>{const o=[],a=new Map;return l===N.ByGroup?null==e||e.forEach((e=>{const l=e.getData(),r=Object.assign({},l);if(!t||null!=r[t]){if(t&&void 0!==r[t]){const l=e.getFieldValue(t),o=e.getFormattedFieldValue(t,v);if(o!==l){r[t]=o;const e=`${t}-${o}`;a.set(e,l)}}o.push(r)}})):l===N.ByField&&(null==e||e.forEach((e=>{const t=e.getData();o.push(Object.assign({},t))}))),[o,a]})(t,r,a,o)),[a,r,o,t]),[u,h]=e.React.useMemo((()=>G(c,l,v)),[c,v]);return e.React.useMemo((()=>{(n||a===N.ByField)&&function(e,t,l=!1){null!=e&&null!=t&&e.sort(((e,v)=>{let o=0;for(let a=0;a<t.length;a+=1){const[r,i]=$(t[a]),n=i===I.WebChartSortOrderKinds.Descending&&!l,c=e[r],s=v[r];if("string"==typeof c&&"string"==typeof s)o=c.localeCompare(s,void 0,{numeric:!0}),n&&(o*=-1);else if(null==c)o=n?-1:1;else if(null==s)o=n?1:-1;else{if(c>s){o=n?-1:1;break}if(c<s){o=n?1:-1;break}}}return o}))}(u,i)}),[a,n,u,i]),[u,s,h]})(M,n,c),A=ee(r,g,f,h),R=e.React.useMemo((()=>{var e;const t=a+"-"+(null!==(e=null==v?void 0:v.id)&&void 0!==e?e:"chart"),l=(0,I.getSeriesType)(n)===I.WebChartTypes.LineSeries?X:J;return v.set("id",t).set("dataSource",l).set("series",null==n?void 0:n.map((e=>e.without("query")))).set("background",[0,0,0,0])}),[S]),x=e.React.useCallback((e=>{i({type:"SET_CHART",value:e})}),[i]);return o.hooks.useUnmount((()=>{i({type:"SET_CHART",value:null})})),e.React.createElement(I.Chart,{data:g,config:R,selectedDataItems:A,ref:x,arcgisChartsJSSelectionComplete:t=>{var l,v,o,i;if(!r)return;const c=(e=>{const{categoryType:t,selectedDataItems:l,records:v,x:o,y:a,xFormattedValueMap:r,xFieldAliasMap:i}=e;let n;return n=t===N.ByField?null==l?void 0:l.map((e=>{const t=e[o];return{[i.get(t)]:e[a]}})):null==l?void 0:l.map((e=>{const t=Object.assign({},e),l=e[o],v=`${o}-${l}`,a=r.get(v);return t[o]=null!=a?a:l,t})),Z(v,n)})({categoryType:s,selectedDataItems:null!==(l=t.detail.selectionItems)&&void 0!==l?l:[],records:M,x:u,y:null===(v=null==n?void 0:n[0])||void 0===v?void 0:v.y,xFormattedValueMap:y,xFieldAliasMap:z});((t=[])=>{e.MessageManager.getInstance().publishMessage(new e.DataRecordsSelectionChangeMessage(a,t))})(c);const h=null!==(o=null==c?void 0:c.map((e=>null==e?void 0:e.getId())))&&void 0!==o?o:[],d=null!==(i=r.getSelectedRecordIds())&&void 0!==i?i:[];(h.length||d.length)&&r.selectRecordsByIds(h)}})})),le=t=>{const{widgetId:l,webChart:v}=t,o=(e=>{if(!(null==e||(null==e?void 0:e.length)<=0))return(e=>{if(null==e||""===e)return;const t="string"==typeof e?e:(0,I.getSeriesType)(e);return j.includes(t)})(e)?"serial":void 0})(null==v?void 0:v.series);return e.React.createElement("div",{className:"web-chart w-100"},"serial"===o&&e.React.createElement(te,{widgetId:l,webChart:v}))},ve=t=>{const{widgetId:l,tools:v,enableDataAction:o=!0,webChart:a}=t,r=(i=(null==v?void 0:v.cursorEnable)||!!v.filter||o,e.React.useMemo((()=>e.css`
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      .chart-tool-bar {
        height: 38px;
      }
      .web-chart {
        height: ${i?"calc(100% - 38px)":"100%"} !important;
      }
    `),[i]));var i;return(0,e.jsx)("div",{css:r,className:"chart"},(0,e.jsx)(F,{tools:v,widgetId:l,enableDataAction:o}),(0,e.jsx)(le,{widgetId:l,webChart:a}))},oe={bar:i(63155),column:i(46986),"stacked-bar":i(49856),"stacked100-bar":i(90007),"stacked-column":i(11888),"stacked100-column":i(83466),line:i(52760),"smooth-line":i(27118),"stacked100-line":i(38839),area:i(27691),"smooth-area":i(62859),"stacked100-area":i(79703)},ae=t=>{const{iconSize:l,templateType:v}=t,a=e.React.useMemo((()=>(e=>oe[e])(v)),[v]);return e.React.createElement(o.WidgetPlaceholder,{iconSize:l,style:{position:"absolute",left:0,top:0},icon:a})},re={_widgetLabel:"Chart",datalimitedTip:"Bar or column charts are limited 1,000 bars in total. Please filter or re-aggregate your data and try again."},ie=e.css`
  display: flex;
  justify-content: center;
  .alert-tooltip-button{
    position: absolute;
    right: 10px;
    bottom: 10px;
  }
  .alert-panel {
    position: absolute;
    max-width: calc(100% - 20px);
    width: auto !important;
    bottom: 10px;
  }
`,ne=t=>{const{templateType:l,showMessage:v,message:a,messageType:r="tooltip",className:i}=t;return(0,e.jsx)("div",{className:(0,e.classNames)("placeholder-container w-100 h-100",i),css:ie},(0,e.jsx)(ae,{iconSize:"large",templateType:l}),v&&(0,e.jsx)(o.Alert,{form:r,withIcon:!0,size:"small",type:"warning",text:a}))};const ce=e=>{if(!e)return!1;const t=e.getInfo();return t&&Object.keys(t).length>0},se=(t,l,o,a,r)=>{const i=p(),[n,c]=e.React.useState([]);return e.React.useEffect((()=>{let a=!1;const n=(t=>{if(!ce(t))return!1;const l=t.getStatus();return l&&l!==e.DataSourceStatus.NotReady})(t),s=ce(l);var u,h,d,p;n&&s&&null!==o&&(a=!0),a&&(u=void 0,h=void 0,p=function*(){try{i({type:"SET_SOURCE_STATUS",value:v.Loading});const e=yield t.query(o),l=null==e?void 0:e.records;r&&l.length>r?i({type:"SET_SOURCE_STATUS",value:v.ExceedLimit}):(i({type:"SET_SOURCE_STATUS",value:v.Loaded}),c(l))}catch(e){i({type:"SET_SOURCE_STATUS",value:v.LoadError}),console.error(e)}},new((d=void 0)||(d=Promise))((function(e,t){function l(e){try{o(p.next(e))}catch(e){t(e)}}function v(e){try{o(p.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof d?o:new d((function(e){e(o)}))).then(l,v)}o((p=p.apply(u,h||[])).next())})))}),[a,l,o]),n},ue=e=>null==e?void 0:e.map(((e,t)=>{const l=e,v=l.getData();return v.objectid=t,l.feature.attributes=v,e})),he=t=>{var l,v;const o=null===(l=null==t?void 0:t[0])||void 0===l?void 0:l.query,a=null!==(v=null==t?void 0:t.length)&&void 0!==v?v:0;return e.React.useMemo((()=>(e=>{if(null==e||0===e.length)return!1;const t=k(e),l=P(e),v=U(e),o=(e=>{var t;return(e=>{var t,l;switch(_(e)){case N.ByGroup:case N.ByField:return null===(l=null===(t=null==e?void 0:e.outStatistics)||void 0===t?void 0:t[0])||void 0===l?void 0:l.statisticType;case N.ByFeature:}})(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.query)})(e);return t===N.ByFeature?null!=l&&""!==l&&v.length>0:t===N.ByGroup?null!=l&&""!==l&&v.length>0&&null!=o:t===N.ByField?v.length>0&&null!=o:void 0})(t)?(t=>{var l;const[v,o]=V(null===(l=null==t?void 0:t[0])||void 0===l?void 0:l.query);let a=(0,e.Immutable)({});if(void 0!==t[0].query){a=t[0].query;let e=`${t[0].x} IS NOT NULL`;switch(v){case N.ByFeature:t.length>1&&(a=((e,t)=>(t.slice(1).forEach((t=>{var l,v,o;const a=null===(v=null===(l=t.query)||void 0===l?void 0:l.outFields)||void 0===v?void 0:v[1],r=(null!==(o=e.outFields)&&void 0!==o?o:[]).concat(a?[a]:[]);e=e.set("outFields",r)})),e))(a,t));break;case N.ByGroup:if(o){const l=q(t[0]);""!==l&&(e=(0,I.combineFilters)([e,`${l} IS NOT NULL`]),a=a.set("where",e),a=((e,t,l)=>(void 0!==e.groupByFieldsForStatistics?e.groupByFieldsForStatistics.includes(t)||(e=e.set("groupByFieldsForStatistics",e.groupByFieldsForStatistics.concat(t))):l===t&&(e=e.set("groupByFieldsForStatistics",[l])),e))(a,l,t[0].x))}else t.length>1&&(a=((e,t)=>(t.slice(1).forEach((t=>{var l,v,o;const a=(null!==(l=e.outStatistics)&&void 0!==l?l:[]).concat(null!==(o=null===(v=t.query)||void 0===v?void 0:v.outStatistics)&&void 0!==o?o:[]);e=e.set("outStatistics",a)})),e))(a,t));break;case N.ByField:}}return a=a.set("returnGeometry",!1),a})(t):null),[o,a])},de=t=>{const{widgetId:l,series:a,useDataSource:r,outputDataSourceId:i}=t,{dataSource:n,outputDataSource:c,sourceStatus:s}=d(),u=p(),h=(null==a?void 0:a.length)?1e3/(null==a?void 0:a.length):void 0,M=he(a);((t,l,v,a)=>{var r;const i=((t,l)=>{const v=e.ReactRedux.useSelector((l=>{var v,o;return(null===(o=null===(v=l.dataSourcesInfo)||void 0===v?void 0:v[t])||void 0===o?void 0:o.status)!==e.DataSourceStatus.NotReady})),a=e.ReactRedux.useSelector((e=>{var l,v;return null===(v=null===(l=e.dataSourcesInfo)||void 0===l?void 0:l[t])||void 0===v?void 0:v.instanceStatus})),r=e.ReactRedux.useSelector((e=>{var l,v;return null===(v=null===(l=e.dataSourcesInfo)||void 0===l?void 0:l[t])||void 0===v?void 0:v.widgetQueries})),i=e.ReactRedux.useSelector((e=>{var l,v;return null===(v=null===(l=e.dataSourcesInfo)||void 0===l?void 0:l[t])||void 0===v?void 0:v.gdbVersion})),n=e.ReactRedux.useSelector((e=>{var l,v;return null===(v=null===(l=e.dataSourcesInfo)||void 0===l?void 0:l[t])||void 0===v?void 0:v.sourceVersion})),c=e.ReactRedux.useSelector((e=>{var t,v;return null===(v=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[l])||void 0===v?void 0:v.widgetQueries})),s=e.ReactRedux.useSelector((e=>{var t,v;return null===(v=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[l])||void 0===v?void 0:v.sourceVersion})),u=e.ReactRedux.useSelector((e=>{var t,v;return null===(v=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[l])||void 0===v?void 0:v.gdbVersion})),[h,d]=e.React.useState(0);return o.hooks.useUpdateEffect((()=>{a===e.DataSourceStatus.Created&&v&&d((e=>e+1))}),[a,v,r,c,s,n,i,u]),h})(null==t?void 0:t.id,null===(r=null==t?void 0:t.belongToDataSource)||void 0===r?void 0:r.id),n=se(t,l,v,i,a);e.React.useEffect((()=>{if(!ce(l)||!n)return;const t=ue(n);l.setSourceRecords(t),l.setStatus(e.DataSourceStatus.Unloaded),l.setCountStatus(e.DataSourceStatus.Unloaded)}),[l,n])})(n,c,M,h),((t,l)=>{const a=p(),{sourceStatus:r}=d(),i=o.hooks.useRefValue(r);o.hooks.useUpdateEffect((()=>{t||a({type:"SET_SOURCE_STATUS",value:v.NotReady})}),[t]);const n=e.ReactRedux.useSelector((e=>{var l,v;return null===(v=null===(l=e.dataSourcesInfo)||void 0===l?void 0:l[null==t?void 0:t.dataSourceId])||void 0===v?void 0:v.status}));e.React.useEffect((()=>{n===e.DataSourceStatus.NotReady&&i.current!==v.NotReady?a({type:"SET_SOURCE_STATUS",value:v.NotReady}):i.current===v.NotReady&&a({type:"SET_SOURCE_STATUS",value:v.Ready})}),[a,n,i]),o.hooks.useUpdateEffect((()=>{null==l&&i.current!==v.NotReady&&a({type:"SET_SOURCE_STATUS",value:v.Ready})}),[l])})(r,M),((t,l)=>{o.hooks.useUpdateEffect((()=>{l!==v.LoadError&&l!==v.ExceedLimit||t.getStatus()!==e.DataSourceStatus.NotReady&&(t.setStatus(e.DataSourceStatus.NotReady),t.setCountStatus(e.DataSourceStatus.NotReady))}),[l,t])})(c,s),(t=>{const{dataSource:l,filter:v}=d(),a=o.hooks.useRefValue(l);e.React.useEffect((()=>{var e;a.current&&a.current.updateQueryParams({where:null!==(e=null==v?void 0:v.sql)&&void 0!==e?e:"1=1"},t)}),[a,v,t])})(l);const f=e.React.useMemo((()=>{if(i)return(0,e.Immutable)({dataSourceId:i,mainDataSourceId:i})}),[i]);return e.React.createElement(e.React.Fragment,null,e.React.createElement(e.DataSourceComponent,{widgetId:l,useDataSource:r,onDataSourceCreated:e=>{u({type:"SET_DATA_SOURCE",value:e})}}),e.React.createElement(e.DataSourceComponent,{widgetId:l,useDataSource:f,onDataSourceCreated:e=>{u({type:"SET_OUTPUT_DATA_SOURCE",value:e})},onDataSourceSchemaChange:()=>{c&&c.getStatus()!==e.DataSourceStatus.NotReady&&(c.setStatus(e.DataSourceStatus.NotReady),c.setCountStatus(e.DataSourceStatus.NotReady))}}))},pe=t=>{const{dataSource:l,sourceStatus:a}=d(),{widgetId:r,useDataSource:i,config:n,enableDataAction:c}=t,{tools:s,webChart:u,_templateType:h}=n,p=(M=null==u?void 0:u.background,e.React.useMemo((()=>e.css`
      position: relative;
      background-color: ${M} !important;
    `),[M]));var M;const f=((e,t)=>{const l=(0,I.getSeriesType)(e);let v="";return"barSeries"===l?v=(e=>{const t=W(e),l=(e=>{var t,l;return null!==(l=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.rotated)&&void 0!==l&&l})(e);if(null==t||null==l)return;const v=l?"bar":"column",o="sideBySide"===t?"":t;return o?`${o}-${v}`:v})(e):"lineSeries"===l&&(v=(e=>{const t=(e=>(null==e?void 0:e[0]).showArea)(e),l=(e=>(null==e?void 0:e[0]).lineSmoothed)(e),v=W(e);if(null==v||null==l)return;const o=t?"area":"line";let a="";return l&&(a="smooth"),"stacked100"===v&&(a="stacked100"),a?`${a}-${o}`:o})(e)),v||(null!=t?t:"column")})(null==u?void 0:u.series,h),S=(e=>e===v.Loaded||e===v.Loading)(a),g=i&&(e=>e===v.NotReady||e===v.ExceedLimit||e===v.LoadError)(a),m=a===v.ExceedLimit?"basic":"tooltip",y=((t,l,a)=>{const r=o.hooks.useTranslate(e.defaultMessages,o.defaultMessages,re);let i="";if(t===v.NotReady){const t=((t,l)=>({dataSourceLabel:null==l?void 0:l.getLabel(),widgetLabel:(t=>{var l,v,o;const a=e.appConfigUtils.getWidgetIdByOutputDataSource(t);return null===(o=null===(v=null===(l=(0,e.getAppStore)().getState())||void 0===l?void 0:l.appConfig.widgets)||void 0===v?void 0:v[a])||void 0===o?void 0:o.label})(t)}))(l,a);i=r("outputDataIsNotGenerated",{outputDsLabel:t.dataSourceLabel,sourceWidgetName:t.widgetLabel})}else t===v.ExceedLimit?i=r("datalimitedTip"):t===v.LoadError&&(i=r("widgetLoadError"));return i})(a,i,l);return(0,e.jsx)("div",{css:p,className:"chart-runtime w-100 h-100"},S&&(0,e.jsx)(ve,{widgetId:r,webChart:u,enableDataAction:c,tools:s}),!S&&(0,e.jsx)(ne,{templateType:f,message:y,messageType:m,showMessage:g}))},Me=t=>{var l;const{outputDataSources:v,useDataSources:o,config:a,id:r,enableDataAction:i}=t;return e.React.createElement("div",{className:"jimu-widget widget-chart "},e.React.createElement(h,null,e.React.createElement(de,{widgetId:r,series:null===(l=null==a?void 0:a.webChart)||void 0===l?void 0:l.series,useDataSource:null==o?void 0:o[0],outputDataSourceId:null==v?void 0:v[0]}),e.React.createElement(pe,{widgetId:r,useDataSource:null==o?void 0:o[0],config:a,enableDataAction:i})))};Me.versionManager=l;const fe=Me})(),n})())}}}));